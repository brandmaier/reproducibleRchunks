<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Automated Reproducibility Checks for R Markdown Documents • reproducibleRchunks</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Automated Reproducibility Checks for R Markdown Documents">
<meta name="description" content="Provide reproducible R chunks in R Markdown document that automatically check computational results for reproducibility. This is achieved by creating json files storing metadata about computational results. A comprehensive tutorial to the package is available as preprint by Brandmaier &amp; Peikert (2024, &lt;doi:10.31234/osf.io/3zjvf&gt;).">
<meta property="og:description" content="Provide reproducible R chunks in R Markdown document that automatically check computational results for reproducibility. This is achieved by creating json files storing metadata about computational results. A comprehensive tutorial to the package is available as preprint by Brandmaier &amp; Peikert (2024, &lt;doi:10.31234/osf.io/3zjvf&gt;).">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">reproducibleRchunks</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/custom_reports.html">Custom Reports</a></li>
    <li><a class="dropdown-item" href="articles/minimal_example.html">A Minimal Example</a></li>
    <li><a class="dropdown-item" href="articles/plots.html">Plots</a></li>
    <li><a class="dropdown-item" href="articles/regression_example.html">Use Case: Linear Regression with Outlier Correction and Bootstrap</a></li>
    <li><a class="dropdown-item" href="articles/renv_example.html">Using renv with reproducibleRchunks</a></li>
    <li><a class="dropdown-item" href="articles/use_case_simulation.html">Use Case: A Simulation Study using Random Numbers</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/brandmaier/reproducibleRchunks/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="reproduciblerchunks-">reproducibleRchunks <img src="reference/figures/sticker.png" align="right" height="138" width="138"><a class="anchor" aria-label="anchor" href="#reproduciblerchunks-"></a>
</h1></div>
<p><!-- badges: start --> <a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a> <!-- badges: end --></p>
<p>Also read our Open Access publication about this package in <em>Collabra: Psychology</em>: <a href="https://doi.org/10.1525/collabra.138638" class="external-link">Automated Reproducibility Testing in R Markdown</a></p>
<div class="section level2">
<h2 id="why-should-i-care">Why should I care?<a class="anchor" aria-label="anchor" href="#why-should-i-care"></a>
</h2>
<p>This package allows you to make computational results in R testable for reproduction (does the same script with the same data produce the same results, e.g. on a different computer and/or later in time). There is only a single thing you need to change in your analysis if you are already using RMarkdown: Load the package at the beginning of your R Markdown file (<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(reproducibleRchunks)</a></code>) and change the code chunk type from <code>r</code> to <code>reproducibleR</code>. It’s that easy:</p>
<p><img src="reference/figures/rstudio-screenshot-marker2.png"></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the package from CRAN, enter:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"reproducibleRchunks"</span><span class="op">)</span></span></code></pre>
<p>Or, install the latest developers’ version:</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"brandmaier/reproducibleRchunks"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="demo">Demo<a class="anchor" aria-label="anchor" href="#demo"></a>
</h2>
<p>You can try it out yourself—additional examples are available on our <a href="https://brandmaier.github.io/reproducibleRchunks/" class="external-link">GitHub project page</a>. Simply install the package and render the test.Rmd file to evaluate the reproducibility of its R code chunks. Each chunk will generate a reproducibility report. One chunk is intentionally designed to fail, showcasing how the package handles errors. Here’s what to expect:</p>
<div class="section level3">
<h3 id="step-1-document-is-built-for-the-first-time">Step 1: Document is built for the first time:<a class="anchor" aria-label="anchor" href="#step-1-document-is-built-for-the-first-time"></a>
</h3>
<p><img src="reference/figures/generation-step1.png"></p>
<p>First, all newly declared variables in an <code>reproducibleR</code> chunk are identified, their contents are fingerprinted, and the fingerprints are stored in a so-called JSON file.</p>
</div>
<div class="section level3">
<h3 id="step-2-document-is-re-built-and-automatically-checked-for-reproducibility">Step 2: Document is re-built and automatically checked for reproducibility<a class="anchor" aria-label="anchor" href="#step-2-document-is-re-built-and-automatically-checked-for-reproducibility"></a>
</h3>
<p>All computational results are reproduced, fingerprinted and their fingerprints are compared against the fingerprints in the JSON storage. If results are identical, all is well, otherwise you will get a failure message.</p>
<p><img src="reference/figures/generation-step2.png"></p>
</div>
</div>
<div class="section level2">
<h2 id="mechanics">Mechanics<a class="anchor" aria-label="anchor" href="#mechanics"></a>
</h2>
<p>The package executes <code>reproducibleR</code> code chunks as regular R code and gathers information about all variables that are newly declared in a given chunk. The contents of those variables are stored in a separate JSON data file (which is labeled according to the name of original Markdown file and the chunk label preceded by the prefix <code>.repro</code> and ending with the suffix <code>.json</code>). Once the document is regenerated and a corresponding JSON data files exist, their content is checked against the newly computed chunk variables for identity.</p>
<p><img src="reference/figures/schema-json-fingerprints.png"></p>
<p>It is possible to either store the contents as fingerprints (default) or as plain content. Here is an example of how the contents of two objects are stored in plain format. In this example, there is a single variable called <code>numbers</code> with a vector of five numbers <code>[0.874094, -1.6943659, -0.8961591, 1.00840087, 1.61713635]</code> (rounded to a specified precision):</p>
<p><code>{json} {   "type": "list",   "attributes": {     "names": {       "type": "character",       "attributes": {},       "value": ["numbers"]     }   },   "value": [     {       "type": "double",       "attributes": {},       "value": [0.874094, -1.6943659, -0.8961591, 1.00840087, 1.61713635]     }   ] }</code></p>
<p>For privacy reasons (and to save disk space), we actually do not store the raw data by default but only fingerprints of the data, which do not allow to reproduce the original data.</p>
</div>
<div class="section level2">
<h2 id="what-kind-of-variables-can-be-tested-for-reproducibility">What kind of variables can be tested for reproducibility?<a class="anchor" aria-label="anchor" href="#what-kind-of-variables-can-be-tested-for-reproducibility"></a>
</h2>
<p>Virtually any kind of variable can be subjected to a reproducibility test by defining it within a <code>reproducibleR</code> code chunk in a R Markdown document, no matter whether it is a numeric result, a character string, or a more complex object such as the result from a call to <code><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test()</a></code> (or any other statistical model):</p>
<p><img src="reference/figures/rstudio-screenshot-marker.png"></p>
</div>
<div class="section level2">
<h2 id="chunk-options">Chunk Options<a class="anchor" aria-label="anchor" href="#chunk-options"></a>
</h2>
<p>The package uses the standard rendering facilities of the <code>knitr</code> package and thus supports all standard code chunk options known from R Markdown documents, such as: - <code>echo</code>: show or hide the R code in the output - <code>eval</code>: evaluate the R code - <code>include</code>: FALSE hides both the code and the output - <code>message</code>: Show or hide messages - <code>warning</code>: Show or hide warnings - <code>error</code>: Show or hide errors</p>
<p>Further typical chunk options control output and formatting options (e.g., <code>fig.width</code> or <code>fig.height</code>).</p>
</div>
<div class="section level2">
<h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a>
</h2>
<p>Do not store critical and/or large data as raw data in reproducibleR chunks. In particular, do not store raw data (too large and possible breach of data protection laws, privacy issues), passwords (security risk as they would be stored in clear text), etc. Do not subject results from current date or current time functions as they are supposed to change over replications. Make sure to use random seeds if your analysis is based on random numbers and note that results from the default random number generator may vary between R versions.</p>
</div>
<div class="section level2">
<h2 id="trouble-shooting">Trouble-Shooting<a class="anchor" aria-label="anchor" href="#trouble-shooting"></a>
</h2>
<ul>
<li>Some variables that I use in my code chunk are not tested for reproducibility. Answer: Not all variables are subject to reproducibility checks but only those newly declared within a code chunk. This is a deliberate design decision.</li>
</ul>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>The figures (in directory <code>inst/img</code> and <code>man/figures</code> of this repository) are all provided under Creative Commons 4.0 CC-BY license. All code is provided under the MIT license.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=reproducibleRchunks" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/brandmaier/reproducibleRchunks/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/brandmaier/reproducibleRchunks/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing reproducibleRchunks</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Andreas M. Brandmaier <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andreas M. Brandmaier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
